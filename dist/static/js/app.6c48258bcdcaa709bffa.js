webpackJsonp([1],{"C5m/":function(t,e){},Dw2h:function(t,e){},MfZe:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),n=a("kxiW"),i=a.n(n),r={name:"Navbar",data:function(){return{isLoggedIn:!1,currentUser:!1}},created:function(){i.a.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=i.a.auth().currentUser.email)},methods:{logout:function(){var t=this;i.a.auth().signOut().then(function(){t.$router.push({name:"Signin"})})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar navbar-expand-sm bg-light navbar-light"},[a("div",{staticClass:"container"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("EventApp")]),t._v(" "),a("ul",{staticClass:"navbar-nav"},[t.isLoggedIn?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Create"},tag:"a"}},[t._v("Add event")])],1):t._e(),t._v(" "),t.isLoggedIn?t._e():a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Signup"},tag:"a"}},[t._v("Signup")])],1),t._v(" "),t.isLoggedIn?t._e():a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Signin"},tag:"a"}},[t._v("Signin")])],1),t._v(" "),t.isLoggedIn?a("button",{staticClass:"btn btn-info",on:{click:t.logout}},[t._v("Logout")]):t._e()])],1)])])},staticRenderFns:[]};var l={name:"Header",data:function(){return{msg:"Whater"}},components:{appNavbar:a("VU/8")(r,o,!1,function(t){a("x6J1")},"data-v-bc856f96",null).exports}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("appNavbar",{key:this.$route.fullPath})],1)},staticRenderFns:[]};var c={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",{staticClass:"text-center"},[this._v("Â© Copyright 2018")])])}]};var v={name:"App",components:{appHeader:a("VU/8")(l,d,!1,function(t){a("MfZe")},"data-v-0cfaf127",null).exports,appFooter:a("VU/8")({name:"AppFooter",data:function(){return{msg:"Whater"}}},c,!1,function(t){a("obwz")},"data-v-b634a4fc",null).exports}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("appHeader"),this._v(" "),e("router-view"),this._v(" "),e("appFooter")],1)},staticRenderFns:[]};var m=a("VU/8")(v,u,!1,function(t){a("Dw2h")},null,null).exports,p=a("/ocq"),f=(a("881v"),i.a.initializeApp({apiKey:"AIzaSyCDm4132jV_cWtWkQUYMVIDM12sWyiYc1A",authDomain:"vueeventapp.firebaseapp.com",databaseURL:"https://vueeventapp.firebaseio.com",projectId:"vueeventapp",storageBucket:"",messagingSenderId:"875766449394"}));i.a.firestore().settings({timestampsInSnapshots:!0}),f.firestore({timestampsInSnapshots:!0});var _=f.firestore(),g={name:"Home",data:function(){return{events:[]}},created:function(){var t=this;_.collection("events").orderBy("startdate","desc").get().then(function(e){e.forEach(function(e){console.log(e.data());var a={id:e.id,event_id:e.data().event_id,title:e.data().title,shortdesc:e.data().shortdesc,longdesc:e.data().longdesc,startdate:e.data().startdate,enddate:e.data().longdate,available:e.data().available,image:e.data().image};t.events.push(a)})})}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h2",{staticClass:"text-center m-5"},[t._v("List of Events")]),t._v(" "),t._l(t.events,function(e){return a("div",{key:e.id},[a("div",{staticClass:"card card-body m-5"},[a("h4",{staticClass:"card-title"},[t._v(t._s(e.title))]),t._v(" "),a("p",[t._v("\n         "+t._s(e.shortdesc)+"\n       ")]),t._v(" "),a("span"),t._v(" "),a("small",[t._v("Available Sits "+t._s(e.available))]),t._v(" "),a("router-link",{staticClass:"btn-block btn btn-success btn-sm mt-3",attrs:{to:{name:"Detail",params:{event_id:e.event_id}}}},[t._v("View")])],1)])})],2)},staticRenderFns:[]};var b=a("VU/8")(g,h,!1,function(t){a("TPtT")},"data-v-0c61e63a",null).exports,C={name:"Detail",data:function(){return{event_id:null,title:null,shortdesc:null,longdesc:null,image:null,available:null,startdate:null,enddate:null,isLoggedIn:!1}},created:function(){i.a.auth().currentUser&&(this.isLoggedIn=!0)},beforeRouteEnter:function(t,e,a){_.collection("events").where("event_id","==",t.params.event_id).get().then(function(t){t.forEach(function(t){a(function(e){e.event_id=t.data().event_id,e.title=t.data().title,e.longdesc=t.data().longdesc,e.startdate=t.data().startdate,e.enddate=t.data().enddate,e.available=t.data().available,e.image=t.data().image})})})},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;_.collection("events").where("event_id","==",this.$route.params.event_id).get().then(function(e){e.forEach(function(e){t.event_id=e.data().event_id,t.title=e.data().title,t.shortdesc=e.data().shortdesc,t.longdesc=e.data().longdesc,t.available=e.data().available,t.image=e.data().image,t.startdate=e.data().startdate,t.enddate=e.data().enddate})})},deleteEvent:function(){var t=this;confirm("Are you sure")&&_.collection("events").where("event_id","==",this.$route.params.event_id).get().then(function(e){e.forEach(function(e){e.ref.delete(),t.$router.push("/")})})},updateEvent:function(){var t=this;_.collection("events").where("event_id","==",this.$route.params.event_id).get().then(function(e){e.forEach(function(e){e.ref.update({available:t.available-"1"}).then(function(){t.$router.push("/")})})})}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h1",{staticClass:"text-lead m-5 text-center"},[t._v("Detail Page")]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 mx-auto"},[a("div",{staticClass:"card card-body m-5"},[a("h4",{staticClass:"card-title"},[t._v(t._s(t.title))]),t._v(" "),a("p",[t._v(t._s(t.longdesc))]),t._v(" "),a("span",[t._v(t._s(t.startdate)+" - "+t._s(t.enddate))]),t._v(" "),a("span",{staticClass:"text-lead mb-5"},[t._v(t._s(t.available)+" Sits available")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"row mt-5"},[a("div",{staticClass:"col"},[t.isLoggedIn?a("button",{staticClass:"btn btn-block btn-danger",on:{click:t.deleteEvent}},[t._v("Delete Event")]):t._e()]),t._v(" "),a("div",{staticClass:"col"},[t.isLoggedIn?a("router-link",{staticClass:"btn btn-block btn-primary",attrs:{to:{name:"Edit",params:{event_id:t.event_id}}}},[t._v("Edit Event")]):t._e()],1)])])])])])])},staticRenderFns:[function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"btn btn-block btn-success",on:{click:this.updateEvent}},[this._v("Apply now")])}]};var E=a("VU/8")(C,w,!1,function(t){a("XmbY")},"data-v-d9d4e9ee",null).exports,x={name:"Create",data:function(){return{event_id:null,title:null,shortdesc:null,longdesc:null,image:null,available:null,startdate:null,enddate:null}},methods:{saveEvent:function(){var t=this;_.collection("events").add({event_id:this.event_id,title:this.title,available:this.available,startdate:this.startdate,enddate:this.enddate,shortdesc:this.shortdesc,longdesc:this.longdesc}).then(function(e){t.$router.push("/")}).catch(function(t){return console.log(t)})}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mx-auto m-5"},[a("div",{staticClass:"card card-body"},[a("h3",{staticClass:"card-title"},[t._v("Create Event")]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.saveEvent(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("Slug")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.event_id,expression:"event_id"}],staticClass:"form-control",attrs:{required:""},domProps:{value:t.event_id},on:{input:function(e){e.target.composing||(t.event_id=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("Event Title")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"shortdesc"}},[t._v("Short Description")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.shortdesc,expression:"shortdesc"}],staticClass:"form-control",attrs:{required:""},domProps:{value:t.shortdesc},on:{input:function(e){e.target.composing||(t.shortdesc=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"longdesc"}},[t._v("Long Description")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.longdesc,expression:"longdesc"}],staticClass:"form-control",attrs:{required:""},domProps:{value:t.longdesc},on:{input:function(e){e.target.composing||(t.longdesc=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"available"}},[t._v("Number of People")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.available,expression:"available"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.available},on:{input:function(e){e.target.composing||(t.available=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"col"},[a("label",{attrs:{for:"startdate"}},[t._v("Start Date")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.startdate,expression:"startdate"}],staticClass:"form-control",attrs:{type:"datetime-local"},domProps:{value:t.startdate},on:{input:function(e){e.target.composing||(t.startdate=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col"},[a("label",{attrs:{for:"enddate"}},[t._v("End Date")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.enddate,expression:"enddate"}],staticClass:"form-control",attrs:{type:"datetime-local"},domProps:{value:t.enddate},on:{input:function(e){e.target.composing||(t.enddate=e.target.value)}}})])]),t._v(" "),a("button",{staticClass:"btn btn-block mt-5 btn-success",attrs:{type:"submit"}},[t._v("Submit")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-file"},[e("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"customFile"}}),this._v(" "),e("label",{staticClass:"custom-file-label",attrs:{for:"customFile"}},[this._v("Choose Image")])])])}]};var P=a("VU/8")(x,y,!1,function(t){a("w7BI")},"data-v-d5ff521e",null).exports,$={name:"Create",data:function(){return{event_id:null,title:null,shortdesc:null,longdesc:null,image:null,available:null,startdate:null,enddate:null}},beforeRouteEnter:function(t,e,a){_.collection("events").where("event_id","==",t.params.event_id).get().then(function(t){t.forEach(function(t){a(function(e){e.event_id=t.data().event_id,e.title=t.data().title,e.shortdesc=t.data().shortdesc,e.longdesc=t.data().longdesc,e.startdate=t.data().startdate,e.enddate=t.data().enddate,e.available=t.data().available,e.image=t.data().image})})})},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;_.collection("events").where("event_id","==",this.$route.params.event_id).get().then(function(e){e.forEach(function(e){t.event_id=e.data().event_id,t.title=e.data().title,t.shortdesc=e.data().shortdesc,t.longdesc=e.data().longdesc,t.available=e.data().available,t.startdate=e.data().startdate,t.enddate=e.data().enddate})})},editEvent:function(){var t=this;_.collection("events").where("event_id","==",this.$route.params.event_id).get().then(function(e){e.forEach(function(e){e.ref.update({title:t.title,available:t.available,startdate:t.startdate,enddate:t.enddate,shortdesc:t.shortdesc,longdesc:t.longdesc}).then(function(){t.$router.push({name:"Detail",params:{event_id:t.event_id}})})})})}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mx-auto m-5"},[a("div",{staticClass:"card card-body"},[a("h3",{staticClass:"card-title"},[t._v("Edit Event")]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.editEvent(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("Slug")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.event_id,expression:"event_id"}],staticClass:"form-control",attrs:{disabled:"",required:""},domProps:{value:t.event_id},on:{input:function(e){e.target.composing||(t.event_id=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("Event Title")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"shortdesc"}},[t._v("Short Description")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.shortdesc,expression:"shortdesc"}],staticClass:"form-control",attrs:{required:""},domProps:{value:t.shortdesc},on:{input:function(e){e.target.composing||(t.shortdesc=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"longdesc"}},[t._v("Long Description")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.longdesc,expression:"longdesc"}],staticClass:"form-control",attrs:{required:""},domProps:{value:t.longdesc},on:{input:function(e){e.target.composing||(t.longdesc=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"available"}},[t._v("Number of People")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.available,expression:"available"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.available},on:{input:function(e){e.target.composing||(t.available=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"col"},[a("label",{attrs:{for:"startdate"}},[t._v("Start Date")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.startdate,expression:"startdate"}],staticClass:"form-control",attrs:{type:"datetime-local"},domProps:{value:t.startdate},on:{input:function(e){e.target.composing||(t.startdate=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col"},[a("label",{attrs:{for:"enddate"}},[t._v("End Date")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.enddate,expression:"enddate"}],staticClass:"form-control",attrs:{type:"datetime-local"},domProps:{value:t.enddate},on:{input:function(e){e.target.composing||(t.enddate=e.target.value)}}})])]),t._v(" "),a("button",{staticClass:"btn btn-block mt-5 btn-success",attrs:{type:"submit"}},[t._v("Submit")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-file"},[e("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"customFile"}}),this._v(" "),e("label",{staticClass:"custom-file-label",attrs:{for:"customFile"}},[this._v("Choose Image")])])])}]};var D=a("VU/8")($,k,!1,function(t){a("ykV9")},"data-v-06b831e8",null).exports,S={name:"Signup",data:function(){return{email:"",password:""}},methods:{register:function(t){var e=this;i.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(t){alert("Account Created for "+e.email),e.$router.push("/")},function(t){return console.log(t.message)}),t.preventDefault()}}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mx-auto"},[a("div",{staticClass:"card card-body mt-5 mb-5"},[a("h2",{staticClass:"card-title"},[t._v("Register")]),t._v(" "),a("form",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:t.register}},[t._v("Register")])])])])])])])},staticRenderFns:[]};var U=a("VU/8")(S,N,!1,function(t){a("C5m/")},"data-v-cdecd360",null).exports,I={name:"Signup",data:function(){return{email:"",password:""}},methods:{login:function(t){var e=this;i.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(t){alert("You are logged in as "+e.email),e.$router.push("/")},function(t){return console.log(t.message)}),t.preventDefault()}}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mx-auto"},[a("div",{staticClass:"card card-body mt-5 mb-5"},[a("h2",{staticClass:"card-title"},[t._v("Login")]),t._v(" "),a("form",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:t.login}},[t._v("Login")])])])])])])])},staticRenderFns:[]};var q=a("VU/8")(I,A,!1,function(t){a("buSU")},"data-v-c44d32b2",null).exports;s.a.use(p.a);var F=new p.a({routes:[{path:"/",name:"Home",component:b},{path:"/:event_id",name:"Detail",component:E},{path:"/create",name:"Create",component:P,meta:{requiresAuth:!0}},{path:"/signup",name:"Signup",component:U,meta:{requiresGuest:!0}},{path:"/signin",name:"Signin",component:q,meta:{requiresGuest:!0}},{path:"/edit/:event_id",name:"Edit",component:D,meta:{requiresAuth:!0}}]});F.beforeEach(function(t,e,a){t.matched.some(function(t){return t.meta.requiresAuth})?i.a.auth().currentUser?a():a({path:"/signin",query:{redirect:t.fullPath}}):t.matched.some(function(t){return t.meta.requiresGuest})&&i.a.auth().currentUser?a({path:"/",query:{redirect:t.fullPath}}):a()});var L=F;s.a.config.productionTip=!1;var R=void 0;i.a.auth().onAuthStateChanged(function(t){R||(R=new s.a({el:"#app",router:L,components:{App:m},template:"<App/>"}))})},TPtT:function(t,e){},XmbY:function(t,e){},buSU:function(t,e){},obwz:function(t,e){},w7BI:function(t,e){},x6J1:function(t,e){},ykV9:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6c48258bcdcaa709bffa.js.map